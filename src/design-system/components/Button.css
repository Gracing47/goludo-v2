/* ============================================
   BUTTON COMPONENT STYLES
   Using Design System Tokens
   ============================================ */

.btn {
    /* Base Styles */
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);

    /* Typography */
    font-family: var(--font-body);
    font-weight: var(--font-semibold);
    text-align: center;
    white-space: nowrap;

    /* Interaction */
    cursor: pointer;
    user-select: none;
    -webkit-tap-highlight-color: transparent;

    /* Transitions */
    transition:
        transform var(--duration-fast) var(--ease-out),
        background var(--duration-fast) var(--ease-out),
        border-color var(--duration-fast) var(--ease-out),
        box-shadow var(--duration-fast) var(--ease-out),
        opacity var(--duration-fast) var(--ease-out);

    /* Remove default button styles */
    border: none;
    outline: none;
    background: none;
}

/* ============================================
   SIZES
   ============================================ */

.btn-sm {
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-sm);
    border-radius: var(--radius-md);
    min-height: 32px;
}

.btn-md {
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-base);
    border-radius: var(--radius-md);
    min-height: 44px;
    /* Minimum touch target */
}

.btn-lg {
    padding: var(--space-4) var(--space-8);
    font-size: var(--text-lg);
    border-radius: var(--radius-lg);
    min-height: 56px;
}

/* ============================================
   VARIANTS
   ============================================ */

/* Primary - Gradient Background */
.btn-primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-sm), var(--glow-cyan);
}

.btn-primary:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md), var(--glow-cyan);
}

.btn-primary:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: var(--shadow-xs);
}

.btn-primary:focus-visible {
    outline: 2px solid var(--color-tertiary);
    outline-offset: 2px;
}

/* Secondary - Outlined */
.btn-secondary {
    background: transparent;
    color: var(--color-primary);
    border: var(--border-medium) solid var(--color-primary);
    box-shadow: var(--shadow-xs);
}

.btn-secondary:hover:not(:disabled) {
    background: rgba(255, 0, 122, 0.1);
    box-shadow: var(--shadow-sm), var(--glow-pink);
    transform: translateY(-2px);
}

.btn-secondary:active:not(:disabled) {
    transform: translateY(0);
}

.btn-secondary:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* Ghost - Transparent */
.btn-ghost {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    color: var(--text-primary);
    border: var(--border-thin) solid var(--glass-border);
}

.btn-ghost:hover:not(:disabled) {
    background: var(--glass-bg-hover);
    border-color: var(--glass-border-bright);
    transform: translateY(-2px);
}

.btn-ghost:active:not(:disabled) {
    transform: translateY(0);
}

.btn-ghost:focus-visible {
    outline: 2px solid var(--glass-border-bright);
    outline-offset: 2px;
}

/* Danger - Error State */
.btn-danger {
    background: var(--color-error);
    color: white;
    box-shadow: var(--shadow-sm);
}

.btn-danger:hover:not(:disabled) {
    background: #ff6b7a;
    box-shadow: var(--shadow-md), 0 0 20px rgba(255, 71, 87, 0.4);
    transform: translateY(-2px);
}

.btn-danger:active:not(:disabled) {
    transform: translateY(0);
}

.btn-danger:focus-visible {
    outline: 2px solid var(--color-error);
    outline-offset: 2px;
}

/* ============================================
   STATES
   ============================================ */

/* Disabled */
.btn:disabled,
.btn-disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* Loading */
.btn-loading {
    cursor: wait;
    pointer-events: none;
}

.btn-loading .btn-text {
    opacity: 0.6;
}

/* Full Width */
.btn-full-width {
    width: 100%;
}

/* ============================================
   ICONS
   ============================================ */

.btn-icon,
.btn-icon-after {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.btn-sm .btn-icon,
.btn-sm .btn-icon-after {
    font-size: var(--text-base);
}

.btn-md .btn-icon,
.btn-md .btn-icon-after {
    font-size: var(--text-lg);
}

.btn-lg .btn-icon,
.btn-lg .btn-icon-after {
    font-size: var(--text-xl);
}

/* ============================================
   LOADING SPINNER
   ============================================ */

.btn-spinner {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.spinner-icon {
    width: 16px;
    height: 16px;
    animation: spin 1s linear infinite;
}

.btn-lg .spinner-icon {
    width: 20px;
    height: 20px;
}

.spinner-circle {
    stroke: currentColor;
    stroke-linecap: round;
    stroke-dasharray: 50;
    stroke-dashoffset: 25;
    transform-origin: center;
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* ============================================
   ACCESSIBILITY - Reduced Motion
   ============================================ */

@media (prefers-reduced-motion: reduce) {
    .btn {
        transition-duration: 0.01ms !important;
    }

    .spinner-icon {
        animation-duration: 2s;
    }
}

/* ============================================
   MOBILE OPTIMIZATIONS
   ============================================ */

@media (max-width: 768px) {

    /* Ensure minimum touch target size */
    .btn {
        min-height: 44px;
        min-width: 44px;
    }

    /* Slightly larger tap area on mobile */
    .btn::before {
        content: '';
        position: absolute;
        inset: -4px;
    }
}